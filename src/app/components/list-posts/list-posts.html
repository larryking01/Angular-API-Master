<main>
    <app-navbar></app-navbar>

    <section class="main-section">
        <div class="intro-div">
            <h2 class="total-posts-header">Total Posts: {{ totalPosts }}</h2>
            <app-pagination
                [totalItems]="totalPosts"
                [itemsPerPage]="limit"
                [currentPage]="currentPage"
                (pageChanged)="onPageChange($event)">
            </app-pagination>
        </div>

        <button (click)="navigateToCreateNewPost()" class="new-post-btn">+ New Post</button>

        <article class="post-list-container">
                @for( post of PostsArray; track $index ) {
                    <section class="post-card">
                        <div class="post-info-div">
                            <img 
                                src="https://img.favpng.com/13/2/23/dialogue-assets-icon-comment-icon-chat-icon-Wq0hTNDy.jpg"
                                class="post-user-image" alt="post-ivon" >

                            <h2 class="post-title">{{ post.title.slice(0, 33) }}...</h2>  
                            <p class="post-body">{{ post.body.slice(0, 100) }}...</p>
                        </div>

                        <div class="action-buttons-div">
                            <button (click)="navigateToEditPost(post.id)">Edit</button>
                            <button (click)="deletePostItem(post.id)">Delete</button>
                            <button (click)="navigateToPostDetails(post.id)">Details</button>
                        </div>
                    </section>
                }
                @empty {
                    <section class="no-posts">
                        <h3>Sorry, there are no posts to display now...</h3>
                    </section>
                }
            </article>

    </section>


</main>
